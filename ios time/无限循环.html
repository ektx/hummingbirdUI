<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Demo</title>
	<style>
	.mod {
		width: 400px;
		height: 400px;
		margin: 200px auto;
		border: 2px solid #000;
	
	}
	.box{
		position: relative;
		/*overflow: hidden*/
	}
	.child {
		position: absolute;
		top: 0;
		width: 100%;
		height: 750px;
		opacity: .8;
		z-index: 1
	}
	.red {
		background: red
	}
	.yellow {
		background: yellow;
	}

	.current {
		top: 0;
	}
	</style>
</head>
<body>
	<div class="mod">
		<div class="box">
			<div class="child red current"></div>
			<div class="child yellow ready" style="transform: translateY(750px)"></div>
		</div>
	</div>


	<ul style="position: fixed; top: 0">
		<li id="move-s"></li>
	</ul>
	<script src="jquery.js"></script>
	<script>
	var startX = 0, currentY, boxPositionY;
	$('.mod')
	.mousedown(function(e) {
		console.log(e)
		startX = e.originalEvent.layerY;

		// 获取当前的位置信息
		boxPositionY = getTransForm('.box')

		console.log('原始位置：'+startX )
	
	})
	.mousemove(function(e) {
		if (e.buttons === 1) {
			var move = e.originalEvent.layerY - startX
			var newBoxPosY = boxPositionY + move;

			// console.log()
			// console.log(newBoxPosY)

				
			$('.child').each(function(index) {
				var iPositionY = getTransForm($(this));


				if (move < 0) {
					var whereI = iPositionY + 750;

					console.log(index, iPositionY, whereI)

					console.log('-_-', newBoxPosY ,whereI < newBoxPosY)
					if (whereI < Math.abs(newBoxPosY)) {
						$(this).css({
							transform: 'translate3d(0, ' +(whereI+750)+'px,0)'
						})
					}
				} else {
					var whereI = iPositionY;

					console.log(index, iPositionY, whereI)
					console.log('-&-', newBoxPosY, whereI )

					if (iPositionY  > 400){
						// $(this).css({
						// 	transform: 'translate3d(0, ' +(-750)+'px,0)'
						// })
					}
				}
			})


			$('.box').css({
				transform: 'translate3d(0,'+newBoxPosY+'px, 0)'
			})

		}
	});
	

	function getTransForm (element) {
		var getTransForm = $(element).css('transform');
		getTransForm = getTransForm == 'none' ? 'matrix(1, 0, 0, 1, 0, 0)' : getTransForm; 
		
		return Number(getTransForm.split(',')[5].replace(')',''));		
	}
	</script>
</body>
</html>